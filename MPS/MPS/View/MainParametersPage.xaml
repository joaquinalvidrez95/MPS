<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"         
             xmlns:viewmodel="clr-namespace:MPS.ViewModel;assembly=MPS"
             Title="Principal"
             x:Class="MPS.MainParametersPage"
             Style="{StaticResource PaddingContentPage}">

    <ContentPage.Resources>
        <ResourceDictionary>
            <viewmodel:MainParametersPageModel x:Key="ViewModel" />
            <Style TargetType="Button">
                <Setter Property="BackgroundColor"
                        Value="Red"/>
                <Setter Property="HorizontalOptions"
                        Value="FillAndExpand"/>
                <Setter Property="TextColor"
                        Value="White"/>
                <Setter Property="Margin"
                        Value="60,10,60,10"/>

            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <ContentPage.Content>
        <StackLayout BindingContext="{StaticResource ViewModel}">

            <TableView HasUnevenRows="True"
                       Intent="Menu">
                <TableRoot>
                    <TableSection Title="Hora y Fecha">
                        <ViewCell>
                            <Button Image="ic_access_time_white_48dp.png"
                                    Text="Actualizar"                                  
                                    Command="{Binding DateTimeCommand}"  />
                        </ViewCell>
                    </TableSection>
                    <TableSection Title="Vista">
                        <ViewCell>
                            <Button Text="Cambiar vista"                 
                                    Image="ic_remove_red_eye_white_48dp.png"                      
                                    Command="{Binding ToggleViewCommand}"/>
                        </ViewCell>
                    </TableSection>

                    <TableSection Title="Mensaje instantáneo">
                        <ViewCell>
                            <Button Image="ic_send_white_48.png"                  
                                    Text="Enviar"
                                    Command="{Binding QuickMessageCommand}"/>
                        </ViewCell>
                    </TableSection>

                    <TableSection Title="Velocidad">
                        <ViewCell>
                            <Slider Minimum="0"                   
                                    Maximum="9"      
                                    Margin="0,10,0,10"
                                    x:Name="SliderSpeed"      
                                    WidthRequest="300"
                                    HorizontalOptions="CenterAndExpand"
                                    Value="{Binding Speed}"/>
                        </ViewCell>
                    </TableSection>
                </TableRoot>
            </TableView>
         
            <Label Text="{Binding Text}"/>

            <StackLayout Orientation="Horizontal">
                <BoxView Color="{Binding StatusColor}"/>
                <Label Text="Conexión"
                       VerticalOptions="Center"/>
            </StackLayout>

            <Image Source="all_citsalogo.png"/>

        </StackLayout>
    </ContentPage.Content>
</ContentPage>