<?xml version="1.0" encoding="utf-8" ?>
<pages:PopupPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pages="clr-namespace:Rg.Plugins.Popup.Pages;assembly=Rg.Plugins.Popup"
             xmlns:viewModel="clr-namespace:MPS.ViewModel;assembly=MPS"
             xmlns:behaviour="clr-namespace:MPS.Behaviour;assembly=MPS"             
             x:Class="MPS.View.QuickMessagePopup"
             Style="{StaticResource PaddingPopup}">

    <pages:PopupPage.Resources>
        <ResourceDictionary>
            <viewModel:QuickMessagePopupModel x:Key="ViewModel" />
            <Style TargetType="Button">
                <Setter Property="BackgroundColor"
                        Value="{StaticResource ColorPrimary}"/>
                <Setter Property="TextColor"
                        Value="{StaticResource ColorButtonText}"/>
                <Setter Property="HorizontalOptions"
                        Value="FillAndExpand"/>
            </Style>
        </ResourceDictionary>
    </pages:PopupPage.Resources>

    <StackLayout BindingContext="{StaticResource ViewModel}"        
                 Orientation="Vertical"
                 BackgroundColor="White"               
                 VerticalOptions="Center"                 
                 Padding="10,20,10,20">

        <Label Text="Mensaje instantáneo"
               TextColor="{StaticResource ColorAccent}"/>
        <BoxView Color="{StaticResource ColorAccent}"
                 HeightRequest="1"/>
        <Editor HeightRequest="{StaticResource EditorHeight}"
                Text="{Binding Text}">
            <Editor.Behaviors>
                <behaviour:EditorLengthValidatorBehavior MaxLength="{StaticResource MaxMessageLength}"/>
            </Editor.Behaviors>
        </Editor>
        <StackLayout Orientation="Horizontal">
            <Button Text="Enviar"                                             
                    Image="ic_send_white_48.png"
                    Command="{Binding DoneCommand}"/>
            <Button Text="{StaticResource ButtonCancel}"         
                    Image="ic_cancel_white_48dp.png"                    
                    Command="{Binding CancelCommand}"/>
        </StackLayout>


    </StackLayout>
</pages:PopupPage>